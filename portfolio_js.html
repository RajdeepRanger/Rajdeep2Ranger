<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width-device-width, initial-scale=1.0">
        <link rel="icon" type="image/png" href="js.png">
        <link rel="stylesheet" href="style.css">
        <title> JavaScript </title>  
    </head>
    <body>
       <h1> Code I have learnt so far : </h1> <p> 
       <pre>
           function sendData() {
    const queryString = window.location.search;
            const url = new URLSearchParams(queryString);
            const ind = url.get('index');
            const aid = parseInt(ind);
            console.log(aid);


    var jsObject = {
        gameID: `${aid}`,
        player: document.getElementById('player').value,
        score:document.getElementById('score').value ,
        time:document.getElementById('time').value ,
    };

    console.log(JSON.stringify(jsObject));
    var whatever = document.getElementById('whatever');
    whatever = `action = "https://lime-faithful-hippo.cyclic.app/api/leaderBoard/${aid}"`;
    fetch(`https://lime-faithful-hippo.cyclic.app/api/leaderBoard/${aid}`, {
        method: "POST",
        mode: "cors",
        credentials: "same-origin",
        body: JSON.stringify(jsObject),
        headers: { "Content-Type": "application/json" }
    })
        .then(function (response) {
            return response.json();
        })
        .then(function(data){
            console.log(data);
        })
        .catch(function (error) {
            console.log(error);
        });
        setTimeout(() => {
        window.location.href = `html3.html?index=${aid-2}`;
    }, 1000);
}

       </pre> </p>
    </body>
</html>
